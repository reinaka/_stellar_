{"ast":null,"code":"import { WS_CONNECTION_SUCCESS, WS_CONNECTION_ERROR, WS_CONNECTION_CLOSED, WS_GET_MESSAGE } from '../actions/socket-actions';\nexport const initialState = {\n  wsConnected: false,\n  total: null,\n  totalToday: null,\n  orders: []\n};\nexport const socketReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case WS_CONNECTION_SUCCESS:\n      return {\n        ...state,\n        error: undefined,\n        wsConnected: true\n      };\n    case WS_CONNECTION_ERROR:\n      return {\n        ...state,\n        error: true,\n        wsConnected: false\n      };\n    case WS_CONNECTION_CLOSED:\n      return initialState;\n    case WS_GET_MESSAGE:\n      console.log(action.payload);\n      const result = JSON.parse(action.payload);\n      return {\n        ...state,\n        error: undefined,\n        orders: result.orders,\n        total: result.total,\n        totalToday: result.totalToday\n      };\n    default:\n      return state;\n  }\n};","map":{"version":3,"names":["WS_CONNECTION_SUCCESS","WS_CONNECTION_ERROR","WS_CONNECTION_CLOSED","WS_GET_MESSAGE","initialState","wsConnected","total","totalToday","orders","socketReducer","state","action","type","error","undefined","console","log","payload","result","JSON","parse"],"sources":["/Users/reinaka/Documents/untitled folder/_stellar_/react-burger/src/services/reducers/socket-reducer.ts"],"sourcesContent":["import {\n    WS_CONNECTION_SUCCESS,\n    WS_CONNECTION_ERROR,\n    WS_CONNECTION_CLOSED,\n    WS_GET_MESSAGE\n} from '../actions/socket-actions';\nimport { TSocketActions } from '../actions/socket-actions';\n\ntype TWSState = {\n    wsConnected: boolean,\n    orders: [],\n    total: number | null,\n    totalToday: number | null,\n    error?: boolean\n}\n\nexport const initialState: TWSState = {\n    wsConnected: false,\n    total: null,\n    totalToday: null,\n    orders: []\n}; \n\nexport const socketReducer = (state = initialState, action: TSocketActions) : TWSState => {\n    switch (action.type) {\n    case WS_CONNECTION_SUCCESS:\n        return {\n        ...state,\n            error: undefined,\n            wsConnected: true\n    };\n\n    case WS_CONNECTION_ERROR:\n        return {\n        ...state,\n            error: true,\n            wsConnected: false\n    };\n\n    case WS_CONNECTION_CLOSED:\n        return initialState;\n\n    case WS_GET_MESSAGE:\n        console.log(action.payload)\n        const result = JSON.parse(action.payload);\n        return {\n        ...state,\n            error: undefined,\n            orders: result.orders,\n            total: result.total,\n            totalToday: result.totalToday\n    };\n\n    \n    default:\n    return state;\n    }\n}"],"mappings":"AAAA,SACIA,qBAAqB,EACrBC,mBAAmB,EACnBC,oBAAoB,EACpBC,cAAc,QACX,2BAA2B;AAWlC,OAAO,MAAMC,YAAsB,GAAG;EAClCC,WAAW,EAAE,KAAK;EAClBC,KAAK,EAAE,IAAI;EACXC,UAAU,EAAE,IAAI;EAChBC,MAAM,EAAE;AACZ,CAAC;AAED,OAAO,MAAMC,aAAa,GAAGA,CAACC,KAAK,GAAGN,YAAY,EAAEO,MAAsB,KAAgB;EACtF,QAAQA,MAAM,CAACC,IAAI;IACnB,KAAKZ,qBAAqB;MACtB,OAAO;QACP,GAAGU,KAAK;QACJG,KAAK,EAAEC,SAAS;QAChBT,WAAW,EAAE;MACrB,CAAC;IAED,KAAKJ,mBAAmB;MACpB,OAAO;QACP,GAAGS,KAAK;QACJG,KAAK,EAAE,IAAI;QACXR,WAAW,EAAE;MACrB,CAAC;IAED,KAAKH,oBAAoB;MACrB,OAAOE,YAAY;IAEvB,KAAKD,cAAc;MACfY,OAAO,CAACC,GAAG,CAACL,MAAM,CAACM,OAAO,CAAC;MAC3B,MAAMC,MAAM,GAAGC,IAAI,CAACC,KAAK,CAACT,MAAM,CAACM,OAAO,CAAC;MACzC,OAAO;QACP,GAAGP,KAAK;QACJG,KAAK,EAAEC,SAAS;QAChBN,MAAM,EAAEU,MAAM,CAACV,MAAM;QACrBF,KAAK,EAAEY,MAAM,CAACZ,KAAK;QACnBC,UAAU,EAAEW,MAAM,CAACX;MAC3B,CAAC;IAGD;MACA,OAAOG,KAAK;EACZ;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}