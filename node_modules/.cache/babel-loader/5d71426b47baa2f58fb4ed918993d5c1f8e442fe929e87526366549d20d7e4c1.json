{"ast":null,"code":"var _jsxFileName = \"/Users/reinaka/Documents/untitled folder/_stellar_/react-burger/src/components/burger-ingredients/ingredients-block/ingredients-block.tsx\",\n  _s = $RefreshSig$();\nimport styles from './ingredients-block.module.css';\nimport IngredientCard from \"../ingredient-card/ingredient-card\";\nimport { memo, useRef, useEffect, useMemo } from 'react';\nimport { selectAllIngredientsItems } from '../../../services/functions/selectorFunctions';\nimport { useAppSelector } from '../../../services/hooks/reduxTypes';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst IngredientsBlock = /*#__PURE__*/_s( /*#__PURE__*/memo(_c = _s(props => {\n  _s();\n  const ingredientsData = useAppSelector(selectAllIngredientsItems);\n  const ingredients = useMemo(() => ingredientsData.filter(item => item.type === props.filter), [props.filter, ingredientsData]);\n  const setCurrentSection = props.setCurrentSection;\n  const ref = useRef(null);\n  useEffect(() => {\n    const observer = new IntersectionObserver(entries => {\n      entries.forEach(entry => {\n        if (entry.isIntersecting) setCurrentSection(props.filter);\n      });\n    }, {\n      rootMargin: '-45% 0px -45% 0px'\n    });\n    if (ref.current) observer.observe(ref.current);\n  }, [props.filter, setCurrentSection]);\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"observedSection\",\n    id: `${props.filter}_id`,\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text text_type_main-medium\",\n      children: props.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: ref,\n      className: \"pl-4 pr-4 pt-6 pb-10\",\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: styles.ulStyle,\n        children: ingredients.map(item => {\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            className: styles.liStyle,\n            onClick: () => props.onClickHandler(item),\n            children: /*#__PURE__*/_jsxDEV(IngredientCard, {\n              ingredient: item\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 42,\n              columnNumber: 41\n            }, this)\n          }, item._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 37\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 13\n  }, this);\n}, \"+Jh7Qlct7xuwfsVAnF9YCl8KzMk=\", false, function () {\n  return [useAppSelector];\n})), \"+Jh7Qlct7xuwfsVAnF9YCl8KzMk=\", false, function () {\n  return [useAppSelector];\n});\n_c2 = IngredientsBlock;\nexport default IngredientsBlock;\nvar _c, _c2;\n$RefreshReg$(_c, \"IngredientsBlock$memo\");\n$RefreshReg$(_c2, \"IngredientsBlock\");","map":{"version":3,"names":["styles","IngredientCard","memo","useRef","useEffect","useMemo","selectAllIngredientsItems","useAppSelector","jsxDEV","_jsxDEV","IngredientsBlock","_s","_c","props","ingredientsData","ingredients","filter","item","type","setCurrentSection","ref","observer","IntersectionObserver","entries","forEach","entry","isIntersecting","rootMargin","current","observe","className","id","children","title","fileName","_jsxFileName","lineNumber","columnNumber","ulStyle","map","liStyle","onClick","onClickHandler","ingredient","_id","_c2","$RefreshReg$"],"sources":["/Users/reinaka/Documents/untitled folder/_stellar_/react-burger/src/components/burger-ingredients/ingredients-block/ingredients-block.tsx"],"sourcesContent":["import styles from './ingredients-block.module.css';\nimport IngredientCard from \"../ingredient-card/ingredient-card\";\nimport { memo, useRef, useEffect, useMemo, FC } from 'react';\nimport { selectAllIngredientsItems } from '../../../services/functions/selectorFunctions';\nimport { TIngredient } from '../../../services/types/types';\nimport { useAppSelector } from '../../../services/hooks/reduxTypes';\n\ntype TProps = {\n    title : string,\n    onClickHandler : Function,\n    filter : string,\n    setCurrentSection : Function,\n};\n\nconst IngredientsBlock:FC<TProps> = memo((props) => {\n    const ingredientsData = useAppSelector(selectAllIngredientsItems);\n    const ingredients = useMemo(() => ingredientsData.filter((item : TIngredient) => item.type === props.filter), [props.filter, ingredientsData]);\n    const setCurrentSection = props.setCurrentSection;\n\n    const ref = useRef<HTMLDivElement | null>(null);\n    useEffect(() => {\n        const observer = new IntersectionObserver((entries) => {\n            entries.forEach(entry => {\n                if(entry.isIntersecting) setCurrentSection(props.filter);\n            })\n        },\n        {\n            rootMargin: '-45% 0px -45% 0px',\n        });\n        if(ref.current) observer.observe(ref.current);\n    }, [props.filter, setCurrentSection]);\n    \n        return (\n            <section className='observedSection' id={`${props.filter}_id`}>\n                <h2 className=\"text text_type_main-medium\">{props.title}</h2>\n                <div ref={ref} className=\"pl-4 pr-4 pt-6 pb-10\">\n                    <ul className={styles.ulStyle}>\n                        {ingredients.map((item : TIngredient) => {\n                                return (\n                                    <li className={styles.liStyle} key={item._id} \n                                    onClick={() => props.onClickHandler(item)}>\n                                        <IngredientCard ingredient={item} />\n                                    </li>)\n                                }\n                        )}\n                    </ul>\n                </div>\n        </section>\n    )\n});\n\nexport default IngredientsBlock;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}