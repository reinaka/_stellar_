{"ast":null,"code":"var _jsxFileName = \"/Users/reinaka/Documents/untitled folder/_stellar_/react-burger/src/components/hoc/protected-route.tsx\",\n  _s = $RefreshSig$();\nimport { useLocation, Navigate } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport { selectLoginSuccess, selectAuthChecked } from \"../../services/functions/selectorFunctions\";\nimport { Spinner } from '../ui-elements/spinner/spinner';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProtectedRouteElement = props => {\n  _s();\n  var _location$state;\n  const location = useLocation();\n  const from = ((_location$state = location.state) === null || _location$state === void 0 ? void 0 : _location$state.from) || '/';\n  const authChecked = useSelector(selectAuthChecked);\n  const access = useSelector(selectLoginSuccess);\n  if (!authChecked) {\n    return /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 16\n    }, this);\n  }\n  if (authChecked) {\n    if (props.anonymous && access) {\n      return /*#__PURE__*/_jsxDEV(Navigate, {\n        to: from\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 20\n      }, this);\n    }\n    if (!props.anonymous && !access) {\n      return /*#__PURE__*/_jsxDEV(Navigate, {\n        to: \"/login\",\n        state: {\n          from: location.pathname\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 20\n      }, this);\n    }\n    return props.element;\n  }\n};\n_s(ProtectedRouteElement, \"oPRu4bRPn2zovaFMIgwRisVFADo=\", false, function () {\n  return [useLocation, useSelector, useSelector];\n});\n_c = ProtectedRouteElement;\nexport default ProtectedRouteElement;\nvar _c;\n$RefreshReg$(_c, \"ProtectedRouteElement\");","map":{"version":3,"names":["useLocation","Navigate","useSelector","selectLoginSuccess","selectAuthChecked","Spinner","jsxDEV","_jsxDEV","ProtectedRouteElement","props","_s","_location$state","location","from","state","authChecked","access","fileName","_jsxFileName","lineNumber","columnNumber","anonymous","to","pathname","element","_c","$RefreshReg$"],"sources":["/Users/reinaka/Documents/untitled folder/_stellar_/react-burger/src/components/hoc/protected-route.tsx"],"sourcesContent":["import { useLocation, Navigate } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport { selectLoginSuccess, selectAuthChecked } from \"../../services/functions/selectorFunctions\";\nimport { Spinner } from '../ui-elements/spinner/spinner';\n\ntype TProps = {\n    element : JSX.Element,\n    anonymous? : boolean,\n}\n\nconst ProtectedRouteElement = (props : TProps) => {\n    const location = useLocation();\n    const from = location.state?.from || '/';\n\n    const authChecked = useSelector(selectAuthChecked);\n    const access = useSelector(selectLoginSuccess);\n\n    if (!authChecked) {\n        return <Spinner />;\n    }\n\n    if (authChecked) {\n        if (props.anonymous && access) {\n            return <Navigate to={from} />;\n        }\n\n        if (!props.anonymous && !access) {\n            return <Navigate to=\"/login\" state={{ from: location.pathname }} />;\n        }\n\n        return props.element;\n    }\n}\n\nexport default ProtectedRouteElement as unknown as (props: TProps) => JSX.Element;"],"mappings":";;AAAA,SAASA,WAAW,EAAEC,QAAQ,QAAQ,kBAAkB;AACxD,SAASC,WAAW,QAAQ,aAAa;AACzC,SAASC,kBAAkB,EAAEC,iBAAiB,QAAQ,4CAA4C;AAClG,SAASC,OAAO,QAAQ,gCAAgC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAOzD,MAAMC,qBAAqB,GAAIC,KAAc,IAAK;EAAAC,EAAA;EAAA,IAAAC,eAAA;EAC9C,MAAMC,QAAQ,GAAGZ,WAAW,CAAC,CAAC;EAC9B,MAAMa,IAAI,GAAG,EAAAF,eAAA,GAAAC,QAAQ,CAACE,KAAK,cAAAH,eAAA,uBAAdA,eAAA,CAAgBE,IAAI,KAAI,GAAG;EAExC,MAAME,WAAW,GAAGb,WAAW,CAACE,iBAAiB,CAAC;EAClD,MAAMY,MAAM,GAAGd,WAAW,CAACC,kBAAkB,CAAC;EAE9C,IAAI,CAACY,WAAW,EAAE;IACd,oBAAOR,OAAA,CAACF,OAAO;MAAAY,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EACtB;EAEA,IAAIL,WAAW,EAAE;IACb,IAAIN,KAAK,CAACY,SAAS,IAAIL,MAAM,EAAE;MAC3B,oBAAOT,OAAA,CAACN,QAAQ;QAACqB,EAAE,EAAET;MAAK;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IACjC;IAEA,IAAI,CAACX,KAAK,CAACY,SAAS,IAAI,CAACL,MAAM,EAAE;MAC7B,oBAAOT,OAAA,CAACN,QAAQ;QAACqB,EAAE,EAAC,QAAQ;QAACR,KAAK,EAAE;UAAED,IAAI,EAAED,QAAQ,CAACW;QAAS;MAAE;QAAAN,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IACvE;IAEA,OAAOX,KAAK,CAACe,OAAO;EACxB;AACJ,CAAC;AAAAd,EAAA,CAtBKF,qBAAqB;EAAA,QACNR,WAAW,EAGRE,WAAW,EAChBA,WAAW;AAAA;AAAAuB,EAAA,GALxBjB,qBAAqB;AAwB3B,eAAeA,qBAAqB;AAA8C,IAAAiB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}